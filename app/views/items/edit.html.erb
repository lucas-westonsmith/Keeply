<div class="form-container">
  <h1 class="form-title"><span class="text-gradient" style="color: #3699e0; font-weight: bold;">Modify the item</span></h1>
  <p class="form-description">Make changes to the item details below.</p>

  <%= simple_form_for @item, url: item_path(@item), local: true, data: { turbo: false } do |f| %>
    <div class="form-columns">
      <!-- Colonne gauche -->
      <div class="form-column">
        <!-- Title -->
        <div class="form-group">
          <%= f.label :title, "Title", class: "form-label" %>
          <%= f.input :title, as: :string, placeholder: "Edit the item's title", label: false, required: true, class: "form-input" %>
        </div>

        <!-- Description -->
        <div class="form-group">
          <%= f.label :description, "Description", class: "form-label" %>
          <%= f.input :description, as: :text, placeholder: "Update the description of the item", label: false, class: "form-input" %>
        </div>

        <!-- Price -->
        <div class="form-group">
          <%= f.label :price, "Price (â‚¬)", class: "form-label" %>
          <%= f.input :price, as: :decimal, placeholder: "Update the price in euros", label: false, class: "form-input" %>
        </div>

        <!-- Condition -->
        <div class="form-group">
          <%= f.label :condition, "Condition", class: "form-label" %>
          <%= f.input :condition, as: :select, collection: ['poor', 'okay', 'good', 'excellent'], include_blank: "Select condition", label: false, class: "form-select" %>
        </div>

        <!-- Category -->
        <div class="form-group">
          <%= f.label :category, "Category", class: "form-label" %>
          <%= f.input :category, as: :string, placeholder: "e.g., Electronics, Furniture", label: false, class: "form-input" %>
        </div>
      </div>

      <!-- Colonne droite -->
      <div class="form-column">
        <!-- Purchase date -->
        <div class="form-group">
          <%= f.label :purchase_date, "Purchase date", class: "form-label" %>
          <%= f.input :purchase_date, as: :date, label: false, class: "form-input" %>
        </div>

        <!-- Warranty Expiry Date -->
        <div class="form-group">
          <%= f.label :warranty_expiry_date, "Warranty expiry date", class: "form-label" %>
          <%= f.input :warranty_expiry_date, as: :date, label: false, class: "form-input" %>
        </div>

        <!-- Add to Lists -->
        <div class="form-group">
          <label class="form-label">Add to lists</label>
          <div class="form-checkbox-group">
            <%= f.collection_check_boxes(:list_ids, List.all, :id, :title) do |list_check_box| %>
              <div class="checkbox-item">
                <%= list_check_box.check_box %>
                <%= list_check_box.text %>
              </div>
            <% end %>
          </div>
        </div>

        <!-- Upload a picture -->
        <div class="form-group">
          <%= f.label :photo, "Upload a picture of the item", class: "form-label" %>
          <% if @item.photo.attached? %>
            <p class="file-info">Current file: <%= @item.photo.filename %></p>
          <% end %>
          <%= f.input :photo, as: :file, label: false, class: "form-input-file" %>
        </div>

        <!-- Upload Invoice -->
        <div class="form-group">
          <%= f.label :invoice, "Upload invoice (PDF or image)", class: "form-label" %>
          <% if @item.invoice.attached? %>
            <p class="file-info">Current file: <%= @item.invoice.filename %></p>
          <% end %>
          <%= f.input :invoice, as: :file, label: false, class: "form-input-file" %>
        </div>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="form-actions">
      <%= f.submit 'Update item', class: 'btn btn-primary action-button' %>
    </div>
  <% end %>

  <!-- Cancel Button -->
  <div class="form-cancel">
    <%= link_to 'Cancel', request.referer || item_path(@item), class: 'btn btn-secondary action-button' %>
  </div>
</div>
